
<!doctype html>
<html lang="en"><head>
    <meta charset="utf-8">
    <title>人事部系统</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="lib/font-awesome/css/font-awesome.css">

    <script src="lib/jquery-1.11.1.min.js" type="text/javascript"></script>

    <script src="lib/jQuery-Knob/js/jquery.knob.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function() {
            $(".knob").knob();
        });
    </script>


    <link rel="stylesheet" type="text/css" href="stylesheets/theme.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/premium.css">

</head>
<body class=" theme-blue">

<!-- Demo page code -->

<script type="text/javascript">
    $(function() {
        var match = document.cookie.match(new RegExp('color=([^;]+)'));
        if(match) var color = match[1];
        if(color) {
            $('body').removeClass(function (index, css) {
                return (css.match (/\btheme-\S+/g) || []).join(' ')
            })
            $('body').addClass('theme-' + color);
        }

        $('[data-popover="true"]').popover({html: true});

    });
</script>
<style type="text/css">
    #line-chart {
        height:300px;
        width:800px;
        margin: 0px auto;
        margin-top: 1em;
    }
    .navbar-default .navbar-brand, .navbar-default .navbar-brand:hover {
        color: #fff;
    }
</style>

<script type="text/javascript">
    $(function() {
        var uls = $('.sidebar-nav > ul > *').clone();
        uls.addClass('visible-xs');
        $('#main-menu').append(uls.clone());
    });
</script>

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- Le fav and touch icons -->
<link rel="shortcut icon" href="../assets/ico/favicon.ico">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">


<!--[if lt IE 7 ]> <body class="ie ie6"> <![endif]-->
<!--[if IE 7 ]> <body class="ie ie7 "> <![endif]-->
<!--[if IE 8 ]> <body class="ie ie8 "> <![endif]-->
<!--[if IE 9 ]> <body class="ie ie9 "> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->

<!--<![endif]-->

<div class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="" href="index.html"><span class="navbar-brand"><span class="fa fa-paper-plane"></span> 人事部系统</span></a></div>

    <div class="navbar-collapse collapse" style="height: 1px;">
        <ul id="main-menu" class="nav navbar-nav navbar-right">
            <li class="dropdown hidden-xs">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-user padding-right-small" style="position:relative;top: 3px;"></span> Jack Smith
                    <i class="fa fa-caret-down"></i>
                </a>

                <ul class="dropdown-menu">
                    <li><a tabindex="-1" href="sign-in.html">退出登录</a></li>
                </ul>
            </li>
        </ul>

    </div>
</div>
</div>



<div class="sidebar-nav">
    <ul>
        <li><a href="addEngineer.html" class="nav-header"><i class="fa fa-fw fa-circle"></i> 输入工程师资料</a></li>
        <li><a href="#" data-target=".delete-menu" class="nav-header collapsed" data-toggle="collapse">
            <i class="fa fa-fw fa-circle"></i> 删除指定工程师资料<i class="fa fa-collapse"></i></a>
        <li>
            <ul class="delete-menu nav nav-list collapse">
                <li ><a href="deleteEngineerById.html"><span class="fa fa-caret-right"></span> 按编号删除</a></li>
                <li ><a href="deleteEngineerByName.html"><span class="fa fa-caret-right"></span> 按姓名删除</a></li>
            </ul>
        </li>
        <li><a href="#" data-target=".alter-menu" class="nav-header collapsed" data-toggle="collapse">
            <i class="fa fa-fw fa-circle"></i> 修改指定工程师资料<i class="fa fa-collapse"></i></a>
        <li>
            <ul class="alter-menu nav nav-list collapse">
                <li ><a href="alterEngineerById.html"><span class="fa fa-caret-right"></span> 按编号修改</a></li>
                <li ><a href="alterEngineerByName.html"><span class="fa fa-caret-right"></span> 按姓名修改</a></li>
            </ul>
        </li>
        <li><a href="#" data-target=".query-menu" class="nav-header collapsed" data-toggle="collapse">
            <i class="fa fa-fw fa-circle"></i> 查询指定工程师资料<i class="fa fa-collapse"></i></a>
        <li>
            <ul class="query-menu nav nav-list collapse">
                <li ><a href="searchEngineerById.html"><span class="fa fa-caret-right"></span> 按编号查询</a></li>
                <li ><a href="searchEngineerByName.html"><span class="fa fa-caret-right"></span> 按姓名查询</a></li>
            </ul>
        </li>
        <li><a href="calculateEngineerSalary.html" class="nav-header"><i class="fa fa-fw fa-circle"></i> 计算工程师月薪水</a></li>
        <li><a href="sortEngineer.html" class="nav-header"><i class="fa fa-fw fa-circle"></i> 对工程师资料进行排序</a></li>
        <li><a href="clearAllEngineer.html" class="nav-header"><i class="fa fa-fw fa-circle"></i> 清空所有工程师资料</a></li>
        <li><a href="printEngineerInfo.html" class="nav-header"><i class="fa fa-fw fa-circle"></i> 打印工程师资料信息报表</a></li>
        <li><a href="retrieveEngineer.html" class="nav-header"><i class="fa fa-fw fa-circle"></i> 重新取工程师信息</a></li>
    </ul>
</div>

<div class="content">
    <div class="header">
        <h1 class="page-title">对工程师资料进行排序</h1>
    </div>
    <div class="main-content">

        <div class="row">
            <div class="col-md-8">
                <br>
                <div id="myTabContent" class="tab-content">
<!-- 下拉选择框-->
                                <label class="form-label =" style="width:100px;height:40px;float:left;">排序方式：</label>
		    <div class="formControls =" style="width:100px;height:40px;float:left;"> <span class="select-box">
		        <select name="bmId" class="select" id="sort_Keyword" >
		            <option value="ID">编号</option>
		            <option value="Name">姓名</option>
		             <option value="WorkYear">工龄</option>
		        </select>
		</span> </div>
		<label class="form-label " style="width:100px;height:40px;float:left;">升序或降序</label>
		    <div class="formControls " style="width:100px;height:40px;float:left;"> <span class="select-box">
		        <select name="bmId" class="select" id="sort_Order" >
		            <option value="Ascending">升序</option>
		            <option value="Descending">降序</option>
		        </select>
		</span> </div>
		
            </div> 
	          <div class="btn-toolbar list-toolbar" href="alterEngineerContent.html">
                    	     <button  class="btn btn-primary" id =sort_Doing><i class="fa fa-info"></i> 排序</button>
                         </div>

                </div>
            </div>
        </div>

       <table class="table" id = "sort_Table">
            
        </table>

        <footer>
            <hr>
            <!-- Purchase a site license to remove this link from the footer: http://www.portnine.com/bootstrap-themes -->
            <p class="pull-right">A <a href="https://www.zafu.edu.cn/" target="_blank">Website</a> by <a href="https://www.zafu.edu.cn/" target="_blank">173</a></p>
            <p>© 2020 <a href="https://www.zafu.edu.cn/" target="_blank">ZAFU</a></p>
        </footer>
    </div>
</div>


<script>
$(document).ready(function(){
  $("#sort_Doing").click(function(){
	  	//alert("5555");
		ajaxObj = $.ajax({
			type:"get",
            contentType: "application/json;charset=UTF-8",
             url:"http://193.112.176.224:8080/Web_war/service",
             //url:"a.do",
            data:{
                "condition":666,
                "user_id":"",
                "insert_type":2
                
            },
            async:true,
            success:function () {
            	var keyword = $("#sort_Keyword").val();
        		var order = $("#sort_Order").val();
        		
            	//alert(ajaxObj.responseText);
            	var res1 = eval('('+ajaxObj.responseText+')');
            	/*alert(res1[0].birthday);
            	alert("ccc1");*/
            	//id升序
            	function sortIdAsc(a,b){
                    return a.engineer_id-b.engineer_id;
                  }
            	function sortNameAsc(a,b){
                    return a.name.localeCompare(b.name);
                  }
            	function sortYearsAsc(a,b){
                    return a.workingYears - b.workingYears;
                  }
            	if (keyword == "ID")
           		{
            		res1.sort(sortIdAsc);
           		}
            	else if (keyword == "Name"){
            		res1.sort(sortNameAsc);
            	}
            	else{
            		res1.sort(sortYearsAsc);
            	}
            	
            	//alert(res1[0].birthday);
            	
            	
            	//alert(res1.length);
            	//var html = '';
            	var html = '<thead><tr><th>编号</th><th>姓名</th><th>性别</th><th>电话</th><th>籍贯</th><th>生日</th><th>学历</th><th>地址</th>'+
                '<th>薪水</th><th>工龄</th><th style="width: 3.5em;"></th></tr></thead><tbody>';
                
                var begin_i = 0;
                var end_i = res1.length;
                var dis_i =1;
                if (order == "Descending"){
                	begin_i = res1.length -1.0;
                	end_i = -1;
                	dis_i = -1;
                }
            	//for ( var i = 0; i != endi;  i= i+dis_i*1) {
            		for ( var i = begin_i; i != end_i;  i= i+dis_i*1) {
            		//循环json对象，拼接tr,td的html
            		//alert(i+10*1);
					html = html + '<tr>';
					html = html + '<td>' + res1[i].engineer_id + '</td>';
					html = html + '<td>' + res1[i].name + '</td>';
					if (res1[i].sex == 1)
						html = html + '<td>' + '男' + '</td>';
					else
						html = html + '<td>' + '女' + '</td>';
					html = html + '<td>' + res1[i].mobile + '</td>';
					html = html + '<td>' + res1[i].nativeplace + '</td>';
					html = html + '<td>' + res1[i].birthday + '</td>';
					html = html + '<td>' + res1[i].education + '</td>';
					html = html + '<td>' + res1[i].address + '</td>';
					html = html + '<td>' + res1[i].salary + '</td>';
					html = html + '<td>' + res1[i].workingYears + '</td>';
					html = html + '</tr>';
				}
            	html = html + '</tbody> </table>';
				$('#sort_Table').html(html);
            	/*
            	{"birthday":"2020-03-31","engineer_id":"1","address":"浙江省杭州市",
            		"education":"硕士研究生","education_id":"7","sex":"1","workingYears":"5",
            		"name":"李四","mobile":"189765131","nativeplace":"浙江省温州市","salary":"8000"}
            	*/
               
            },
            error:function () {
            	alert("访问数据库失败!"); 
            }

	});
  });
});
</script>
<script src="lib/bootstrap/js/bootstrap.js"></script>
<script type="text/javascript">
    $("[rel=tooltip]").tooltip();
    $(function() {
        $('.demo-cancel-click').click(function(){return false;});
    });
</script>


</body></html>
